<%- include("parts/header", {title: 'Agenda de contatos' }) %>


  <div class="container">



    <div class="sumary">

      <div class="search">
        <input type="text" class="contact" id="search-contat" placeholder="Buscar um contato">

      </div>

      <a class="button gray" href="/contact/index">
        <span>
          <img src="/images/plus-24.svg" alt="Novo Contato" />
        </span>
        Adicionar novo contato
      </a>

    </div>

    <section class="cards">

      <% contacts.forEach(contact=> { %>
        <article class="clickablecard">
          <h2><a href="https://example.com/" class="cardmainlink"></a></h2>
          <div class="card border-dark mb-2" id="card-content">
            <div class="card-nome">
              <div class="avatar">
                <h1>
                  <%= contact.name[0].toUpperCase() %>
                </h1>
              </div>
              <div class="full-name">

                <h3>
                  <%= contact.name %>
                </h3>


              </div>
            </div>
            <div class="category">
              <p>Categoria</p>
              <h4>
                <%= contact.category %>
              </h4>
            </div>
            <div class="actions">
              <div style="font-size: 1.5rem;">
                <a href="/contact/delete/<%= contact._id %>">
                  <i class="bi bi-trash"></i>
                </a>
                <a href="/contact/index/<%= contact._id %>">
                  <i class="bi bi-pencil-square"></i>
                </a>

              </div>
            </div>
          </div>
        </article>
        <% }); %>

          <a href="#" onclick="Modal.open()" class="button new">+ Nova Transação</a>

    </section>

  </div>

  <%- include("parts/modal")%>

    <script src="/scripts/modal.js"></script>

    <script type="text/javascript">
      var cards = document.querySelectorAll(".clickablecard");
      for (var i = 0; i < cards.length; i++) {
        cards[i].addEventListener('click', function (e) {
          var link = this.querySelector(".cardmainlink");
          link.click();
        }, false);
      }
    </script>

    <%- include("parts/footer") %>